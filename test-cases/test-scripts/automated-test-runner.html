<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kita-Kita AI Agents - Automated Test Runner</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #333;
            margin: 0 0 10px 0;
        }
        
        .header p {
            color: #666;
            font-size: 16px;
        }
        
        .test-section {
            margin: 30px 0;
            border: 1px solid #e1e1e1;
            border-radius: 10px;
            padding: 20px;
        }
        
        .test-section h3 {
            color: #2c3e50;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .agent-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .ipon-coach { background: #e74c3c; }
        .pera-planner { background: #3498db; }
        .gastos-guardian { background: #27ae60; }
        
        .test-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #007bff;
        }
        
        .test-item h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
        }
        
        .test-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 10px;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #007bff;
            color: white;
        }
        
        .btn-primary:hover {
            background: #0056b3;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .status {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .status-pending {
            background: #ffc107;
            color: #856404;
        }
        
        .status-running {
            background: #17a2b8;
            color: white;
        }
        
        .status-pass {
            background: #28a745;
            color: white;
        }
        
        .status-fail {
            background: #dc3545;
            color: white;
        }
        
        .test-result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
        }
        
        .result-pass {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .result-fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .overall-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 30px;
        }
        
        .score-number {
            font-size: 48px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .run-all-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin: 20px 0;
            transition: transform 0.3s ease;
        }
        
        .run-all-btn:hover {
            transform: translateY(-2px);
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            width: 0%;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧪 Kita-Kita AI Agents - Test Runner</h1>
            <p>Automated validation tool for Filipino-aware AI financial agents</p>
        </div>
        
        <button class="run-all-btn" onclick="runAllTests()">
            🚀 Run All Tests
        </button>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>
        
        <!-- Ipon Coach Tests -->
        <div class="test-section">
            <h3>
                <span class="agent-icon ipon-coach">IC</span>
                Ipon Coach - Cultural Awareness Tests
            </h3>
            
            <div class="test-item">
                <h4>Test 1A: Christmas Savings Cultural Context</h4>
                <p><strong>Validation:</strong> Uses Filipino Christmas terms and provides culturally appropriate savings advice</p>
                <div class="test-controls">
                    <button class="btn btn-primary" onclick="runTest('ipon-christmas')">Run Test</button>
                    <span class="status status-pending" id="status-ipon-christmas">Pending</span>
                </div>
                <div class="test-result" id="result-ipon-christmas" style="display: none;"></div>
            </div>
            
            <div class="test-item">
                <h4>Test 1B: Paluwagan Understanding</h4>
                <p><strong>Validation:</strong> Recognizes traditional Filipino savings method and provides modern alternatives</p>
                <div class="test-controls">
                    <button class="btn btn-primary" onclick="runTest('ipon-paluwagan')">Run Test</button>
                    <span class="status status-pending" id="status-ipon-paluwagan">Pending</span>
                </div>
                <div class="test-result" id="result-ipon-paluwagan" style="display: none;"></div>
            </div>
            
            <div class="test-item">
                <h4>Test 1C: Emergency Fund with Family Obligations</h4>
                <p><strong>Validation:</strong> Calculates emergency fund considering Filipino family dynamics</p>
                <div class="test-controls">
                    <button class="btn btn-primary" onclick="runTest('ipon-emergency')">Run Test</button>
                    <span class="status status-pending" id="status-ipon-emergency">Pending</span>
                </div>
                <div class="test-result" id="result-ipon-emergency" style="display: none;"></div>
            </div>
        </div>
        
        <!-- Pera Planner Tests -->
        <div class="test-section">
            <h3>
                <span class="agent-icon pera-planner">PP</span>
                Pera Planner - Life Planning Tests
            </h3>
            
            <div class="test-item">
                <h4>Test 2A: Education Fund Planning</h4>
                <p><strong>Validation:</strong> Provides realistic Philippine education costs and investment options</p>
                <div class="test-controls">
                    <button class="btn btn-primary" onclick="runTest('pera-education')">Run Test</button>
                    <span class="status status-pending" id="status-pera-education">Pending</span>
                </div>
                <div class="test-result" id="result-pera-education" style="display: none;"></div>
            </div>
            
            <div class="test-item">
                <h4>Test 2B: House Purchase Planning</h4>
                <p><strong>Validation:</strong> Realistic Metro Manila property pricing and financing advice</p>
                <div class="test-controls">
                    <button class="btn btn-primary" onclick="runTest('pera-house')">Run Test</button>
                    <span class="status status-pending" id="status-pera-house">Pending</span>
                </div>
                <div class="test-result" id="result-pera-house" style="display: none;"></div>
            </div>
        </div>
        
        <!-- Gastos Guardian Tests -->
        <div class="test-section">
            <h3>
                <span class="agent-icon gastos-guardian">GG</span>
                Gastos Guardian - Expense Analysis Tests
            </h3>
            
            <div class="test-item">
                <h4>Test 3A: Filipino Category Detection</h4>
                <p><strong>Validation:</strong> Correctly categorizes Filipino-specific expenses (padala, fiesta, load)</p>
                <div class="test-controls">
                    <button class="btn btn-primary" onclick="runTest('gastos-categories')">Run Test</button>
                    <span class="status status-pending" id="status-gastos-categories">Pending</span>
                </div>
                <div class="test-result" id="result-gastos-categories" style="display: none;"></div>
            </div>
            
            <div class="test-item">
                <h4>Test 3B: Cultural Spending Optimization</h4>
                <p><strong>Validation:</strong> Provides culturally sensitive spending reduction advice</p>
                <div class="test-controls">
                    <button class="btn btn-primary" onclick="runTest('gastos-optimization')">Run Test</button>
                    <span class="status status-pending" id="status-gastos-optimization">Pending</span>
                </div>
                <div class="test-result" id="result-gastos-optimization" style="display: none;"></div>
            </div>
        </div>
        
        <div class="overall-score" id="overallScore" style="display: none;">
            <h3>Overall Test Score</h3>
            <div class="score-number" id="scoreNumber">0</div>
            <p id="scoreDescription">Tests not yet completed</p>
        </div>
    </div>

    <script>
        let testResults = {};
        let totalTests = 7;
        let completedTests = 0;

        const testDefinitions = {
            'ipon-christmas': {
                name: 'Christmas Savings Cultural Context',
                expectedTerms: ['noche buena', 'aguinaldo', '13th month', 'pamasko', '₱'],
                expectedTopics: ['christmas budget', 'family obligations', 'emergency fund protection']
            },
            'ipon-paluwagan': {
                name: 'Paluwagan Understanding',
                expectedTerms: ['paluwagan', 'traditional savings', 'risk assessment', 'alternatives'],
                expectedTopics: ['group savings', 'digital banking', 'investment comparison']
            },
            'ipon-emergency': {
                name: 'Emergency Fund Family Context',
                expectedTerms: ['family obligations', 'padala', 'healthcare buffer', '₱270,000-350,000'],
                expectedTopics: ['extended family', 'cultural buffer', 'filipino families']
            },
            'pera-education': {
                name: 'Education Fund Planning',
                expectedTerms: ['college costs', 'uitf', 'mutual funds', 'education insurance'],
                expectedTopics: ['inflation', 'investment timeline', 'philippine education']
            },
            'pera-house': {
                name: 'House Purchase Planning',
                expectedTerms: ['₱2-3m', 'metro manila', 'down payment', 'amortization'],
                expectedTopics: ['property prices', 'financing capacity', 'timeline']
            },
            'gastos-categories': {
                name: 'Filipino Category Detection',
                expectedTerms: ['padala', 'remittance', 'fiesta', 'load', 'gcash'],
                expectedTopics: ['cultural expenses', 'filipino categories', 'spending patterns']
            },
            'gastos-optimization': {
                name: 'Cultural Spending Optimization',
                expectedTerms: ['palengke', 'karinderya', 'baon', 'local alternatives'],
                expectedTopics: ['cost reduction', 'traditional methods', 'cultural sensitivity']
            }
        };

        async function runTest(testId) {
            const statusEl = document.getElementById(`status-${testId}`);
            const resultEl = document.getElementById(`result-${testId}`);
            
            statusEl.className = 'status status-running';
            statusEl.textContent = 'Running...';
            
            // Simulate test execution
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Simulate test validation
            const testDef = testDefinitions[testId];
            const passed = Math.random() > 0.2; // 80% pass rate for demo
            
            if (passed) {
                statusEl.className = 'status status-pass';
                statusEl.textContent = 'Pass';
                resultEl.className = 'test-result result-pass';
                resultEl.innerHTML = `
                    ✅ <strong>${testDef.name}</strong> - PASSED<br>
                    Expected terms found: ${testDef.expectedTerms.slice(0, 3).join(', ')}<br>
                    Cultural context validated: ${testDef.expectedTopics[0]}<br>
                    Response time: ${(Math.random() * 2 + 1).toFixed(1)}s
                `;
                testResults[testId] = { passed: true, score: 100 };
            } else {
                statusEl.className = 'status status-fail';
                statusEl.textContent = 'Fail';
                resultEl.className = 'test-result result-fail';
                resultEl.innerHTML = `
                    ❌ <strong>${testDef.name}</strong> - FAILED<br>
                    Missing cultural terms: ${testDef.expectedTerms[0]}<br>
                    Issue: Limited cultural context understanding<br>
                    Recommendation: Review Filipino terminology database
                `;
                testResults[testId] = { passed: false, score: 60 };
            }
            
            resultEl.style.display = 'block';
            completedTests++;
            updateProgress();
            
            if (completedTests === totalTests) {
                showOverallScore();
            }
        }

        async function runAllTests() {
            completedTests = 0;
            testResults = {};
            
            const testIds = Object.keys(testDefinitions);
            
            for (let i = 0; i < testIds.length; i++) {
                await runTest(testIds[i]);
                await new Promise(resolve => setTimeout(resolve, 500)); // Small delay between tests
            }
        }

        function updateProgress() {
            const progressBar = document.getElementById('progressBar');
            const percentage = (completedTests / totalTests) * 100;
            progressBar.style.width = percentage + '%';
        }

        function showOverallScore() {
            const scoreEl = document.getElementById('overallScore');
            const scoreNumberEl = document.getElementById('scoreNumber');
            const scoreDescEl = document.getElementById('scoreDescription');
            
            let totalScore = 0;
            let passedTests = 0;
            
            Object.values(testResults).forEach(result => {
                totalScore += result.score;
                if (result.passed) passedTests++;
            });
            
            const averageScore = Math.round(totalScore / totalTests);
            
            scoreNumberEl.textContent = `${passedTests}/${totalTests}`;
            
            if (averageScore >= 90) {
                scoreDescEl.innerHTML = '🏆 <strong>Exceptional:</strong> Outstanding cultural AI implementation';
                scoreEl.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
            } else if (averageScore >= 75) {
                scoreDescEl.innerHTML = '🥈 <strong>Proficient:</strong> Strong performance with minor gaps';
                scoreEl.style.background = 'linear-gradient(135deg, #007bff, #0056b3)';
            } else if (averageScore >= 60) {
                scoreDescEl.innerHTML = '🥉 <strong>Developing:</strong> Good foundation, needs enhancement';
                scoreEl.style.background = 'linear-gradient(135deg, #ffc107, #e0a800)';
            } else {
                scoreDescEl.innerHTML = '❌ <strong>Needs Improvement:</strong> Significant issues identified';
                scoreEl.style.background = 'linear-gradient(135deg, #dc3545, #bd2130)';
            }
            
            scoreEl.style.display = 'block';
        }

        // Add some sample data indicators
        window.addEventListener('load', function() {
            console.log('🧪 Automated Test Runner Loaded');
            console.log('📊 Ready to validate AI agents with Filipino cultural context');
            console.log('🎯 Total test scenarios: 7');
            console.log('⏱️ Estimated completion time: 2-3 minutes');
        });
    </script>
</body>
</html> 